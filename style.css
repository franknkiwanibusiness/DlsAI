:root {
            --bg-pure: #000000;
            --glass-bg: rgba(15, 15, 15, 0.8);
            --glass-border: rgba(255, 255, 255, 0.1);
            --pink: #ff00ff;
            --cyan: #00ffff;
            --text: #ffffff;
            --skeleton: #111;
        }

        * { 
            margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; 
            -webkit-user-select: none; -ms-user-select: none; user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
        
        body { background-color: var(--bg-pure); color: var(--text); overflow-x: hidden; }

        /* --- HEADER & TOKENS --- */
        header {
            position: fixed; top: 0; width: 100%; height: 65px; z-index: 100;
            background: rgba(0, 0, 0, 0.3); backdrop-filter: blur(15px);
            border-bottom: 1px solid var(--glass-border);
            display: flex; align-items: center; justify-content: space-between; padding: 0 5%;
        }
        
        .token-pill {
            display: flex; align-items: center; gap: 6px;
            background: rgba(255, 255, 255, 0.05);
            padding: 4px 10px; border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* --- SKELETON LOADER --- */
        #main-loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-pure); z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: opacity 0.5s ease;
        }
        .skeleton-logo { width: 80px; height: 80px; background: var(--skeleton); border-radius: 20px; position: relative; overflow: hidden; }
        .shimmer { position: absolute; top: 0; left: -150%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent); animation: shimmer 1.5s infinite; }
        @keyframes shimmer { 100% { left: 150%; } }

        /* --- LOGO --- */
        .text-logo { font-weight: 800; font-size: 1.4rem; letter-spacing: -0.5px; text-transform: uppercase; }
        
        /* --- PROFILE MODAL --- */
        .profile-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 2000;
            display: none; flex-direction: column; padding: 30px; overflow-y: auto;
        }
        .profile-modal.active { display: flex; }
        .premium-badge {
            background: linear-gradient(45deg, #d4af37, #f9f295);
            color: #000; padding: 2px 8px; border-radius: 4px;
            font-size: 0.65rem; font-weight: 800; text-transform: uppercase;
        }
        .link-card {
            background: #0a0a0a; border: 1px solid #1a1a1a;
            padding: 15px; border-radius: 12px; margin-bottom: 10px;
            display: flex; justify-content: space-between; align-items: center;
        }

        /* --- MODALS & INPUTS --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(12px);
            display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: 0.4s ease; z-index: 1000;
        }
        .modal-overlay.active { opacity: 1; pointer-events: all; }
        .modal-card { background: #0a0a0a; border: 1px solid var(--glass-border); padding: 40px 30px; border-radius: 28px; width: 90%; max-width: 400px; text-align: center; position: relative; }
        .avatar-selection { display: flex; justify-content: center; gap: 15px; margin-bottom: 20px; }
        .avatar-option input { display: none; }
        .avatar-img { width: 60px; height: 60px; border-radius: 50%; filter: grayscale(1); border: 2px solid transparent; transition: 0.3s; }
        .avatar-option input:checked + .avatar-img { filter: grayscale(0); border-color: var(--pink); transform: scale(1.1); }
        .input-group { margin-bottom: 15px; text-align: left; }
        .input-group label { display: block; font-size: 0.7rem; color: #555; margin-bottom: 5px; }
        .input-group input { width: 100%; background: #111; border: 1px solid #222; padding: 12px; border-radius: 12px; color: white; outline: none; -webkit-user-select: text; user-select: text; }
        
        .btn-wrapper { position: relative; width: 110px; height: 36px; padding: 1.5px; border-radius: 18px; overflow: hidden; cursor: pointer; }
        .btn-wrapper::before { content: ''; position: absolute; width: 300%; height: 300%; background: conic-gradient(transparent 0deg, var(--pink) 30deg, transparent 90deg, transparent 180deg, var(--cyan) 210deg, transparent 270deg); animation: rotate 3s linear infinite; top: -100%; left: -100%; }
        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .login-trigger { position: relative; z-index: 1; width: 100%; height: 100%; background: var(--glass-bg); color: white; border: none; border-radius: 17px; font-weight: 600; font-size: 11px; cursor: pointer; }

        .toast { background: rgba(15, 15, 15, 0.9); backdrop-filter: blur(10px); border: 1px solid var(--glass-border); color: white; padding: 12px 20px; border-radius: 12px; font-size: 0.85rem; position: relative; animation: slideIn 0.3s ease forwards; }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
.text-logo {
    font-weight: 800;
    font-size: 1.5rem;
    letter-spacing: -1.2px;
    display: flex;
    align-items: center;
    cursor: pointer;
    user-select: none;
}

.logo-dls {
    color: #ffffff;
    margin-right: 2px;
}

.logo-value {
    /* Multi-color metallic gradient */
    background: linear-gradient(
        90deg, 
        #00ffff, /* Cyan */
        #ff00ff, /* Pink */
        #ffffff, /* White Shine */
        #00ffff, /* Loop back to Cyan */
        #ff00ff
    );
    background-size: 300% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    
    /* The Animation */
    animation: liquidFlow 6s linear infinite;
    filter: drop-shadow(0 0 2px rgba(255,255,255,0.1));
}

@keyframes liquidFlow {
    0% { background-position: 0% 50%; }
    100% { background-position: 300% 50%; }
}

/* Tactile feedback when pressing the logo */
.text-logo:active {
    transform: scale(0.95);
    transition: 0.1s;
}
/* Custom Scrollbar Hide */
.scrollbar-hide::-webkit-scrollbar {
    display: none;
}
.scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}

/* Glassmorphism Input Focus Effect */
.input-glass {
    background: rgba(24, 24, 27, 0.6);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.input-glass:focus {
    background: rgba(24, 24, 27, 0.8);
    border-color: rgba(34, 197, 94, 0.5);
    box-shadow: 0 0 20px rgba(34, 197, 94, 0.1);
}

/* Safe Area Inserts for Mobile Devices */
.safe-top {
    padding-top: max(1.25rem, env(safe-area-inset-top));
}

.safe-bottom {
    padding-bottom: max(1.5rem, env(safe-area-inset-bottom));
}

/* Status Pulse Animation */
@keyframes pulse-subtle {
    0%, 100% { opacity: 0.2; transform: scale(1); }
    50% { opacity: 0.4; transform: scale(1.2); }
}

.animate-pulse {
    animation: pulse-subtle 3s infinite ease-in-out;
}

/* Message Appearance Animation */
#chatContainer > div {
    animation: slideUp 0.4s ease-out forwards;
}

@keyframes slideUp {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
/* RESET & BASE */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

/* MODAL OVERLAY */
.vision-modal {
    position: fixed;
    inset: 0;
    z-index: 1000;
    display: flex;
    flex-direction: column;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    display: none; /* Toggle with JS */
}

/* HEADER */
.chat-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 24px;
    background: rgba(9, 9, 11, 0.2);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    padding-top: max(20px, env(safe-area-inset-top));
}

.header-status {
    display: flex;
    align-items: center;
    gap: 12px;
}

.brand-title {
    font-size: 11px;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 0.25em;
    color: rgba(255, 255, 255, 0.9);
    font-style: italic;
}

/* GLOW EFFECT */
.glow-container {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.glow-blur {
    position: absolute;
    inset: 0;
    background: rgba(34, 197, 94, 0.2);
    filter: blur(8px);
    border-radius: 50%;
    animation: pulse 2s infinite;
}

.glow-dot {
    width: 10px;
    height: 10px;
    background: #22c55e;
    border-radius: 50%;
    box-shadow: 0 0 10px #22c55e;
}

/* CHAT BODY */
.chat-body {
    flex: 1;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 24px;
    padding: 32px 20px;
    background: linear-gradient(to bottom, #09090b, #000000);
    scrollbar-width: none; /* Firefox */
}

.chat-body::-webkit-scrollbar {
    display: none; /* Chrome/Safari */
}

/* MESSAGE BUBBLES */
.message-wrapper {
    display: flex;
    justify-content: flex-start;
}

.ai-bubble {
    background: rgba(24, 24, 27, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.05);
    padding: 16px;
    border-radius: 16px;
    border-top-left-radius: 0;
    max-width: 88%;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
}

.ai-bubble p {
    font-size: 13px;
    color: #d4d4d8;
    line-height: 1.6;
    font-weight: 500;
}

/* FOOTER & INPUT */
.chat-footer {
    padding: 24px;
    background: linear-gradient(to top, #000 0%, rgba(0,0,0,0.8) 60%, transparent 100%);
    padding-bottom: max(24px, env(safe-area-inset-bottom));
}

.input-wrapper {
    display: flex;
    align-items: center;
    gap: 12px;
    width: 100%;
}

.input-field {
    flex: 1;
    background: rgba(24, 24, 27, 0.6);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 24px;
    padding: 16px 20px;
    color: white;
    font-size: 14px;
    outline: none;
    transition: all 0.3s ease;
}

.input-field:focus {
    border-color: rgba(34, 197, 94, 0.5);
    background: rgba(39, 39, 42, 0.8);
}

.send-btn {
    background: #22c55e;
    color: black;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 8px 20px rgba(34, 197, 94, 0.3);
    transition: transform 0.2s ease;
}

.send-btn:active {
    transform: scale(0.9);
}

/* UTILITIES */
.accent-green { color: #22c55e; }
.accent-green-bold { color: #4ade80; font-weight: bold; }

.close-btn {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    color: rgba(255, 255, 255, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

@keyframes pulse {
    0% { transform: scale(1); opacity: 0.6; }
    50% { transform: scale(1.2); opacity: 1; }
    100% { transform: scale(1); opacity: 0.6; }
}
.glass-analyze-btn {
    /* Layout */
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    width: 100%;
    padding: 14px 0;
    cursor: pointer;
    border-radius: 12px;
    
    /* The Glass Effect */
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    
    /* Text Styling */
    color: #ffffff;
    font-weight: 900;
    text-transform: uppercase;
    font-size: 11px;
    letter-spacing: 0.15em;
    
    /* Smoothness */
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
}

/* Icon size adjustment */
.glass-analyze-btn .material-icons {
    font-size: 18px;
    color: #22c55e; /* Green icon for that "Vision" accent */
}

/* Hover State */
.glass-analyze-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(34, 197, 94, 0.5); /* Glow green border */
    box-shadow: 0 0 20px rgba(34, 197, 94, 0.2);
    transform: translateY(-2px);
}

/* Click Effect */
.glass-analyze-btn:active {
    transform: scale(0.97);
}

/* Loading State (for JS) */
.glass-analyze-btn.loading {
    opacity: 0.5;
    pointer-events: none;
    filter: grayscale(1);
}
.preview-modal {
    position: fixed;
    inset: 0;
    z-index: 2000;
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(15px);
    display: none; /* Hidden by default */
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.preview-content {
    max-width: 90%;
    max-height: 70vh;
    border-radius: 16px;
    border: 2px solid rgba(34, 197, 94, 0.3);
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);
    object-fit: contain;
}

.preview-actions {
    margin-top: 30px;
    display: flex;
    gap: 15px;
    width: 100%;
    max-width: 400px;
}

.btn-cancel {
    flex: 1;
    background: rgba(255, 255, 255, 0.1);
    color: white;
    border: none;
    padding: 15px;
    border-radius: 12px;
    font-weight: bold;
    cursor: pointer;
}
:root {
    --card-bg: rgba(0, 0, 0, 0.85); 
    --card-border: rgba(255, 255, 255, 0.1);
    --scroll-speed: 30s;
  }

  .info-marquee-wrapper {
    position: relative;
    padding: 40px 0;
    width: 100%;
    overflow: hidden;
    
    /* ADDED MORE STOPS: Pink -> Purple -> Blue -> Purple -> Pink */
    background: linear-gradient(90deg, #ff2d55, #a855f7, #0070ff, #a855f7, #ff2d55);
    
    /* LOWERED SIZE: 200% makes the colors closer together so they all fit on screen */
    background-size: 200% 100%; 
    animation: gradientFlow 8s linear infinite;
  }

  /* Smooth horizontal flow */
  @keyframes gradientFlow {
    0% { background-position: 0% 0%; }
    100% { background-position: 200% 0%; }
  }

  .marquee-container {
    width: 100%;
    display: flex;
    mask-image: none !important;
    -webkit-mask-image: none !important;
  }

  .marquee-content {
    display: flex;
    gap: 20px;
    width: max-content;
  }

  .scroll-left { animation: scroll-L var(--scroll-speed) linear infinite; }
  .scroll-right { animation: scroll-R var(--scroll-speed) linear infinite; }

  .info-card {
    flex-shrink: 0;
    width: 260px;
    padding: 25px 20px;
    background: var(--card-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--card-border);
    border-radius: 20px;
    text-align: left;
  }

  /* Rest of your card CSS remains the same... */
  .info-card h3 { font-size: 16px; margin: 10px 0 5px 0; color: #fff; font-weight: 700; }
  .info-card p { font-size: 12px; color: rgba(255, 255, 255, 0.7); line-height: 1.4; }
  .info-card .material-icons { color: #22c55e; font-size: 28px; }

  @keyframes scroll-L {
    0% { transform: translateX(0); }
    100% { transform: translateX(calc(-50% - 10px)); }
  }

  @keyframes scroll-R {
    0% { transform: translateX(calc(-50% - 10px)); }
    100% { transform: translateX(0); }
  }
    .neural-display-section {
    background: #000;
    padding: 60px 24px;
    display: flex;
    justify-content: center;
    border-top: 1px solid rgba(0, 255, 255, 0.05);
  }

  .display-container {
    max-width: 800px;
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  /* 16:9 Monitor Styling */
  .monitor-frame {
    position: relative;
    width: 100%;
    aspect-ratio: 16 / 9;
    background: #050505;
    border-radius: 24px;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 0 40px rgba(0, 255, 255, 0.1);
  }

  .scan-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: saturate(1.2) contrast(1.1);
    opacity: 0.8;
  }

  /* Moving Laser Line */
  .scan-line {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: linear-gradient(to right, transparent, #00ffff, transparent);
    box-shadow: 0 0 15px #00ffff;
    z-index: 5;
    animation: scanMove 4s ease-in-out infinite;
  }

  /* Monitor UI Details */
  .monitor-overlay {
    position: absolute;
    top: 20px;
    left: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
    z-index: 6;
  }

  .rec-dot {
    width: 8px;
    height: 8px;
    background: #ff4444;
    border-radius: 50%;
    animation: blink 1s infinite;
  }

  .overlay-text {
    color: #fff;
    font-size: 10px;
    font-weight: 800;
    letter-spacing: 2px;
    font-family: monospace;
  }

  .corner-focus {
    position: absolute;
    width: 20px;
    height: 20px;
    border: 2px solid #00ffff;
    z-index: 6;
    opacity: 0.5;
  }
  .top-left { top: 20px; left: 20px; border-right: 0; border-bottom: 0; }
  .top-right { top: 20px; right: 20px; border-left: 0; border-bottom: 0; }
  .bottom-left { bottom: 20px; left: 20px; border-right: 0; border-top: 0; }
  .bottom-right { bottom: 20px; right: 20px; border-left: 0; border-top: 0; }

  /* Data Readout Panel */
  .data-readout {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 16px;
    padding: 20px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
  }

  .data-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
  }

  .data-item {
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  .label {
    font-size: 9px;
    color: #555;
    font-weight: 800;
    letter-spacing: 1px;
  }

  .value {
    font-size: 14px;
    color: #fff;
    font-weight: 800;
    font-family: monospace;
  }

  .cyan-text { color: #00ffff; }
  .green-text { color: #22c55e; }

  @keyframes scanMove {
    0% { top: 0%; }
    50% { top: 100%; }
    100% { top: 0%; }
  }

  @media (max-width: 600px) {
    .data-grid { grid-template-columns: 1fr; }
    .monitor-frame { border-radius: 12px; }
  }
    .scanner-section {
    position: relative;
    /* Restored the Cyan-tinged Dark background */
    background: radial-gradient(circle at 30% 50%, #001219 0%, #000000 100%);
    padding: 100px 24px;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
  }

  /* Restored the Technical Grid Overlay */
  .scanner-section::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: 
        linear-gradient(rgba(0, 255, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 255, 255, 0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
  }

  .scanner-container {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    gap: 60px;
    max-width: 1000px;
    width: 100%;
  }

  .radar {
    position: relative;
    width: 240px;
    height: 240px;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-shrink: 0;
  }

  .radar-circle {
    position: absolute;
    width: 100%;
    height: 100%;
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 50%;
    animation: pulseCircle 3s linear infinite;
    opacity: 0;
  }

  .radar-line {
    position: absolute;
    width: 50%;
    height: 2px;
    /* Back to Vibrant Cyan */
    background: linear-gradient(to right, transparent, #00ffff);
    top: 50%;
    left: 50%;
    transform-origin: left center;
    animation: radarSpin 3s linear infinite;
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.4);
  }

  .scanner-icon {
    position: relative;
    z-index: 2;
    background: #000;
    width: 85px;
    height: 85px;
    border-radius: 12px;
    display: flex;
    justify-content: center;
    align-items: center;
    border: 2px solid #00ffff;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
    overflow: hidden; /* This crops the image to the border-radius */
  }

  .scanner-text h2 {
    font-size: 34px;
    font-weight: 900;
    font-style: italic;
    text-transform: uppercase;
    margin-bottom: 12px;
    letter-spacing: -1px;
    color: #fff;
  }

  .scanner-text .highlight {
    color: #00ffff; /* Back to Neon Cyan */
    text-shadow: 0 0 15px rgba(0, 255, 255, 0.6);
  }

  .scanner-text p {
    color: #9ca3af;
    line-height: 1.6;
    max-width: 400px;
    font-size: 14px;
    margin-bottom: 25px;
  }

  .status-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: rgba(0, 255, 255, 0.1);
    color: #00ffff;
    padding: 8px 16px;
    border-radius: 999px;
    font-size: 10px;
    font-weight: 800;
    letter-spacing: 2px;
    border: 1px solid rgba(0, 255, 255, 0.3);
  }

  .status-badge .dot {
    width: 6px;
    height: 6px;
    background: #00ffff;
    border-radius: 50%;
    box-shadow: 0 0 10px #00ffff;
    animation: blink 1s infinite;
  }

  @keyframes radarSpin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
  @keyframes pulseCircle { 0% { transform: scale(0.5); opacity: 0; } 50% { opacity: 1; } 100% { transform: scale(1.5); opacity: 0; } }
  @keyframes blink { 50% { opacity: 0.3; } }

  @media (max-width: 768px) {
    .scanner-container { flex-direction: column; text-align: center; gap: 40px; }
    .scanner-text p { margin: 0 auto 25px; }
  }
 /* =========================================
   REFILL MODAL - FULL SYSTEM DESIGN
   ========================================= */

#refillModal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.96);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    z-index: 9999 !important; /* Forces it above Profile Modal (2000) */
    display: none; /* Controlled by your JS .style.display or .active */
    align-items: center;
    justify-content: center;
    padding: 20px;
    transition: all 0.3s ease;
}

/* State: Open */
#refillModal.active {
    display: flex !important;
    animation: modalFadeIn 0.3s ease-out;
}

@keyframes modalFadeIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
}

/* Modal Content Box */
.refill-content {
    background: #0d0d0d;
    width: 100%;
    max-width: 400px;
    border-radius: 28px;
    padding: 32px;
    border: 1px solid #222;
    position: relative;
    box-shadow: 0 0 50px rgba(0, 0, 0, 0.8), 0 0 20px rgba(0, 255, 255, 0.05);
    text-align: center;
}

/* Close Button (X) */
#closeRefill {
    position: absolute;
    top: 20px;
    right: 20px;
    color: #555;
    font-size: 24px;
    font-weight: 300;
    cursor: pointer;
    transition: color 0.2s;
    line-height: 1;
}

#closeRefill:hover {
    color: #ff4444;
}

/* Typography */
.refill-content h2 {
    font-weight: 900;
    font-style: italic;
    text-transform: uppercase;
    font-size: 1.4rem;
    color: #fff;
    margin-bottom: 4px;
    letter-spacing: -0.5px;
}

.refill-content p {
    font-size: 0.7rem;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: 25px;
}

/* Token Pack Grid */
.token-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 24px;
}

/* Individual Pack Cards */
.pack-card {
    background: #151515;
    padding: 20px 12px;
    border-radius: 20px;
    border: 1px solid #222;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

/* "Best Value" spans across two columns */
.token-grid .pack-card:nth-child(3) {
    grid-column: span 2;
}

.pack-card:hover {
    background: #1a1a1a;
    border-color: #d4af37;
    transform: translateY(-3px);
}

.pack-card .tier-name {
    font-size: 0.6rem;
    font-weight: 800;
    color: #555;
    text-transform: uppercase;
    display: block;
    margin-bottom: 4px;
}

.pack-card .token-amount {
    font-size: 1.8rem;
    font-weight: 900;
    color: #fff;
    display: block;
}

.pack-card .token-label {
    font-size: 0.65rem;
    font-weight: 900;
    color: #d4af37;
    text-transform: uppercase;
    display: block;
}

/* Price Tag */
.pack-price-tag {
    background: #d4af37;
    color: #000;
    font-size: 0.75rem;
    font-weight: 900;
    padding: 8px;
    border-radius: 10px;
    margin-top: 12px;
    display: block;
}

/* Best Value Badge */
.best-value-badge {
    position: absolute;
    top: 0;
    right: 0;
    background: #d4af37;
    color: #000;
    font-size: 0.55rem;
    font-weight: 900;
    padding: 4px 12px;
    text-transform: uppercase;
    font-style: italic;
    border-bottom-left-radius: 12px;
}

/* PayPal Button Container */
#paypal-tokens-container {
    margin-top: 20px;
    min-height: 45px;
    padding-top: 10px;
    border-top: 1px solid #222;
}

/* Utility to hide/show */
.hidden {
    display: none !important;
}
/* Base Hero Button Style */
.hero-btn {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    padding: 16px;
    border-radius: 12px;
    font-weight: 800;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    cursor: pointer;
    overflow: hidden; /* Clips the scan line */
    transition: all 0.3s ease;
}

/* 1. Pure Glassy Neutral (Top) */
.btn-glass-neutral {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: #ffffff;
}
.btn-glass-neutral:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.3);
}

/* 2. Glassy Black AI (Bottom) */
.btn-ai-black {
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(0, 255, 255, 0.2);
    color: #00ffff;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
}

/* The Scan Animation */
.btn-scan-line {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, transparent, #00ffff, transparent);
    box-shadow: 0 0 8px #00ffff;
    opacity: 0.6;
    z-index: 1;
    animation: buttonScan 3s linear infinite;
}

@keyframes buttonScan {
    0% { top: -5%; }
    100% { top: 105%; }
}

.btn-ai-black:hover {
    border-color: #00ffff;
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.2);
    transform: scale(1.02);
}
.vision-modal-fs {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(20px);
    z-index: 9999;
    display: none; /* Controlled by JS */
    flex-direction: column;
    color: white;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.vision-modal-fs.active {
    display: flex;
    opacity: 1;
}

/* Header */
.chat-header-fs {
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(0, 255, 255, 0.1);
}

.header-left h3 { font-size: 0.9rem; letter-spacing: 2px; color: #00ffff; margin: 0; }
.header-left p { font-size: 0.6rem; color: #555; margin: 0; }

.status-indicator {
    width: 8px;
    height: 8px;
    background: #00ffff;
    border-radius: 50%;
    margin-right: 12px;
    box-shadow: 0 0 10px #00ffff;
    display: inline-block;
}

/* Body */
.chat-body-fs {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

/* Bubbles */
.user-bubble {
    align-self: flex-end;
    background: rgba(255, 255, 255, 0.05);
    padding: 12px 18px;
    border-radius: 15px 15px 0 15px;
    max-width: 80%;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.ai-bubble {
    align-self: flex-start;
    background: rgba(0, 255, 255, 0.05);
    padding: 12px 18px;
    border-radius: 15px 15px 15px 0;
    max-width: 80%;
    border: 1px solid rgba(0, 255, 255, 0.2);
    color: #00ffff;
}

/* Footer Input */
.chat-footer-fs {
    padding: 20px;
    background: rgba(0, 0, 0, 0.5);
}

.chat-input-wrapper {
    display: flex;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 12px;
    padding: 8px 15px;
}

.chat-input-wrapper input {
    flex: 1;
    background: transparent;
    border: none;
    color: white;
    padding: 10px;
    outline: none;
}
.vision-modal-fs {
    position: fixed;
    inset: 0; /* Shorthand for top, bottom, left, right: 0 */
    width: 100vw;
    height: 100dvh; /* Use 'dvh' for better mobile support */
    background: #000;
    z-index: 9999;
    display: none; /* Controlled by active class */
    flex-direction: column;
}

.vision-modal-fs.active {
    display: flex;
}

.chat-header-fs {
    flex-shrink: 0; /* Header won't disappear */
    height: 70px;
    padding: 0 20px;
    display: flex;
    align-items: center;
    border-bottom: 1px solid #1a1a1a;
}

.chat-body-fs {
    flex: 1; /* This pushes the footer to the bottom */
    overflow-y: auto;
    padding: 20px;
    display: flex;
    flex-direction: column;
}

.chat-footer-fs {
    flex-shrink: 0; /* Footer won't shrink/disappear */
    padding: 20px;
    padding-bottom: max(20px, env(safe-area-inset-bottom)); /* iOS Notch support */
    background: #000;
}

.chat-input-wrapper {
    display: flex;
    background: #111;
    border: 1px solid #333;
    border-radius: 12px;
    padding: 10px 15px;
}

.chat-input-wrapper input {
    flex: 1;
    background: transparent;
    border: none;
    color: #fff;
    outline: none;
    font-size: 16px; /* Prevents auto-zoom on iPhone */
}
.chat-ad-banner {
    width: 100%;
    padding: 10px 0;
    background: rgba(0, 0, 0, 0.2);
    display: flex;
    justify-content: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    flex-shrink: 0;
}

.ad-slot-wrapper {
    width: 320px;
    height: 50px;
    background: #111;
    border-radius: 12px; /* Curved edges */
    overflow: hidden; /* Clips the ad iframe to the curves */
    border: 1px solid rgba(255, 255, 255, 0.1);
}
/* Full Screen Modal Fix */
.vision-modal-fs {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100dvh;
    background: #000;
    z-index: 9999;
    display: none;
    flex-direction: column;
}

.vision-modal-fs.active {
    display: flex;
}

.chat-header-fs {
    flex-shrink: 0;
    padding: 15px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #111;
}

/* Ad Banner Styling */
.chat-ad-banner {
    flex-shrink: 0;
    width: 100%;
    padding: 10px 0;
    display: flex;
    justify-content: center;
    background: #050505;
}

.ad-slot-wrapper {
    width: 320px;
    height: 50px;
    background: #111;
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid #222;
}

/* Scrollable Body */
.chat-body-fs {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
    display: flex;
    flex-direction: column;
}

/* Sticky Footer */
.chat-footer-fs {
    flex-shrink: 0;
    padding: 15px 20px;
    padding-bottom: max(15px, env(safe-area-inset-bottom));
    background: #000;
    border-top: 1px solid #111;
}

.chat-input-wrapper {
    display: flex;
    align-items: center;
    background: #0a0a0a;
    border: 1px solid #222;
    border-radius: 12px;
    padding: 5px 10px;
}

#chatInput {
    flex: 1;
    background: transparent;
    border: none;
    color: #fff;
    padding: 10px;
    outline: none;
    font-size: 16px;
}

.send-icon-btn {
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 8px;
    display: flex;
}

.close-fs-btn {
    background: transparent;
    border: none;
    color: #555;
    cursor: pointer;
}
.ai-bubble p, .user-bubble p {
    white-space: pre-wrap;       /* This preserves the spaces the AI sends */
    word-wrap: break-word;       /* Prevents long words from breaking the UI */
    display: inline-block;
    line-height: 1.5;            /* Improves readability */
    margin: 0;
}

.ai-bubble {
    padding: 12px;
    background: rgba(0, 255, 255, 0.05); 
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 12px 12px 12px 2px;
}

/* Global Scroll Lock */
body.modal-open {
    overflow: hidden !important;
    height: 100dvh !important;
    width: 100vw;
    position: fixed; 
    touch-action: none; 
}

/* Fix for PayPal Iframe Rendering */
#paypal-tokens-container {
    width: 100%;
    min-height: 150px; /* Gives the SDK space to draw the buttons */
    margin-top: 20px;
    display: block;
    clear: both;
}

#paypal-tokens-container iframe {
    width: 100% !important;
}
.btn-loading {
    opacity: 0.7;
    pointer-events: none;
    position: relative;
}

.btn-loading span {
    visibility: hidden;
}

.btn-loading::after {
    content: "";
    position: absolute;
    width: 16px; height: 16px;
    top: 0; left: 0; right: 0; bottom: 0;
    margin: auto;
    border: 2px solid transparent;
    border-top-color: #ffffff;
    border-radius: 50%;
    animation: button-spin 0.6s linear infinite;
}

@keyframes button-spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}
/* 1. MONITOR FRAME & SCAN ANIMATION */
.monitor-frame {
    position: relative;
    border: 2px solid rgba(0, 255, 255, 0.2);
    border-radius: 8px;
    overflow: hidden;
    background: #000;
}

.scan-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.8;
}

.scan-line {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: linear-gradient(to bottom, transparent, #00ffff, transparent);
    box-shadow: 0 0 15px #00ffff;
    z-index: 5;
    animation: scanMove 2s linear infinite;
    display: none; /* Only shows during loading */
}

/* Show scan line when parent is loading */
.loading .scan-line {
    display: block;
}

@keyframes scanMove {
    0% { top: 0%; }
    100% { top: 100%; }
}

/* 2. CORNER FOCUS ELEMENTS */
.corner-focus {
    position: absolute;
    width: 15px;
    height: 15px;
    border: 2px solid #00ffff;
    z-index: 10;
}
.top-left { top: 10px; left: 10px; border-right: 0; border-bottom: 0; }
.top-right { top: 10px; right: 10px; border-left: 0; border-bottom: 0; }
.bottom-left { bottom: 10px; left: 10px; border-right: 0; border-top: 0; }
.bottom-right { bottom: 10px; right: 10px; border-left: 0; border-top: 0; }

/* 3. ABNORMAL ERROR GLITCH */
#retryContainer svg {
    animation: glitchPulse 1.5s ease-in-out infinite;
}

@keyframes glitchPulse {
    0% { transform: scale(1); opacity: 1; filter: drop-shadow(0 0 5px #ff4444); }
    50% { transform: scale(1.1); opacity: 0.8; filter: drop-shadow(0 0 15px #ff4444); }
    100% { transform: scale(1); opacity: 1; filter: drop-shadow(0 0 5px #ff4444); }
}

#retryContainer:hover {
    background: rgba(255, 68, 68, 0.15) !important;
    transform: translateY(-2px);
    transition: all 0.2s ease;
}

/* 4. LOADING STATE FOR BUTTON */
.glass-analyze-btn.loading {
    pointer-events: none;
    opacity: 0.7;
    filter: grayscale(1);
    cursor: wait;
}

/* 5. SCROLLBAR FOR RESULTS */
#typewriterText::-webkit-scrollbar {
    width: 4px;
}

#typewriterText::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
}

#typewriterText::-webkit-scrollbar-thumb {
    background: #00ffff;
    border-radius: 10px;
}

/* 6. SCAN RESULT MODAL (GLASS) */
.scan-result-modal {
    animation: fadeIn 0.4s ease-out;
}

@keyframes fadeIn {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
}

