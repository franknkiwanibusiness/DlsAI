<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Football iOS</title>
    <style>
        :root {
            --ios-bg: #f2f2f7;
            --ios-card: #ffffff;
            --ios-blue: #007aff;
            --ios-secondary: #8e8e93;
            --ios-border: #c6c6c8;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, system-ui; }
        body { background: var(--ios-bg); padding-bottom: 100px; color: #000; }

        /* Header */
        header {
            position: sticky; top: 0; z-index: 100;
            background: rgba(242, 242, 247, 0.8); backdrop-filter: blur(20px);
            padding: 20px 16px 10px; border-bottom: 0.5px solid var(--ios-border);
        }
        h1 { font-size: 32px; font-weight: 700; letter-spacing: -1px; }
        .date-range { font-size: 13px; color: var(--ios-secondary); margin-top: 4px; }

        /* Content */
        .container { padding: 16px; }
        .section-label { font-size: 13px; text-transform: uppercase; color: var(--ios-secondary); margin: 0 0 8px 4px; font-weight: 600; }
        
        .card {
            background: var(--ios-card); border-radius: 12px; 
            box-shadow: 0 1px 3px rgba(0,0,0,0.05); overflow: hidden; margin-bottom: 20px;
        }

        /* Fixture Rows */
        .fixture {
            display: flex; align-items: center; padding: 14px 16px;
            border-bottom: 0.5px solid #eee; position: relative;
        }
        .fixture:last-child { border-bottom: none; }
        .time-box { width: 50px; font-size: 12px; font-weight: 600; color: var(--ios-blue); }
        .teams { flex: 1; display: flex; flex-direction: column; gap: 6px; border-left: 2px solid #f0f0f0; padding-left: 12px; }
        .team-line { display: flex; align-items: center; gap: 8px; font-size: 15px; font-weight: 500; }
        .logo { width: 18px; height: 18px; object-fit: contain; }

        /* Tab Bar */
        .tab-bar {
            position: fixed; bottom: 0; width: 100%; height: 85px;
            background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(15px);
            border-top: 0.5px solid var(--ios-border); display: flex; padding-top: 8px;
        }
        .tab-item { flex: 1; text-align: center; color: var(--ios-secondary); cursor: pointer; }
        .tab-item.active { color: var(--ios-blue); }
        .tab-icon { font-size: 24px; margin-bottom: 2px; }
        .tab-label { font-size: 10px; font-weight: 500; }

        #loader { text-align: center; padding: 50px; color: var(--ios-secondary); font-size: 14px; }
    </style>
</head>
<body>

<header>
    <h1 id="league-title">Premier League</h1>
    <div class="date-range" id="date-display">Next 7 Days</div>
</header>

<div class="container">
    <p class="section-label">Upcoming Fixtures</p>
    <div class="card" id="main-content">
        <div id="loader">Fetching schedule...</div>
    </div>
</div>

<nav class="tab-bar">
    <div class="tab-item active" onclick="loadData(39, 'Premier League', this)">
        <div class="tab-icon">üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø</div><div class="tab-label">Prem</div>
    </div>
    <div class="tab-item" onclick="loadData(140, 'La Liga', this)">
        <div class="tab-icon">üá™üá∏</div><div class="tab-label">LaLiga</div>
    </div>
    <div class="tab-item" onclick="loadData(135, 'Serie A', this)">
        <div class="tab-icon">üáÆüáπ</div><div class="tab-label">Serie A</div>
    </div>
    <div class="tab-item" onclick="loadData(78, 'Bundesliga', this)">
        <div class="tab-icon">üá©üá™</div><div class="tab-label">Bundes</div>
    </div>
    <div class="tab-item" onclick="loadData(61, 'Ligue 1', this)">
        <div class="tab-icon">üá´üá∑</div><div class="tab-label">Ligue 1</div>
    </div>
</nav>

<script>
    const API_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZyYW5rbmtpd2FuaUBnbWFpbC5jb20iLCJ0aWVyIjoiZnJlZSIsInVzZXJJZCI6InUwTlNoZmR5SjZROVJ5Z1NodXdHVGJZMEdoUTIiLCJpYXQiOjE3NzE3NTIzMzEsImV4cCI6MTgwMzI4ODMzMX0.GVGzPppZcMsZp-3kga8Ok6Xk6D8YKBTjc6czTWmcsyc';

    // Helper to get formatted dates
    function getDateString(offset = 0) {
        const d = new Date();
        d.setDate(d.getDate() + offset);
        return d.toISOString().split('T')[0];
    }

    async function loadData(leagueId, name, el) {
        document.getElementById('league-title').innerText = name;
        document.getElementById('main-content').innerHTML = '<div id="loader">Loading fixtures...</div>';
        
        // Tab UI
        document.querySelectorAll('.tab-item').forEach(t => t.classList.remove('active'));
        if(el) el.classList.add('active');

        const from = getDateString(0);
        const to = getDateString(7);
        document.getElementById('date-display').innerText = `${from} to ${to}`;

        try {
            const response = await fetch(`https://v3.football.api-sports.io/fixtures?league=${leagueId}&season=2025&from=${from}&to=${to}`, {
                headers: { "x-apisports-key": API_KEY, "x-rapidapi-host": "v3.football.api-sports.io" }
            });

            const data = await response.json();
            renderFixtures(data.response);
        } catch (e) {
            document.getElementById('main-content').innerHTML = '<div id="loader">Error loading data.</div>';
        }
    }

    function renderFixtures(fixtures) {
        const container = document.getElementById('main-content');
        if (!fixtures || fixtures.length === 0) {
            container.innerHTML = '<div id="loader">No fixtures scheduled for this week.</div>';
            return;
        }

        container.innerHTML = fixtures.map(f => {
            const time = new Date(f.fixture.date).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            const day = new Date(f.fixture.date).toLocaleDateString([], {weekday: 'short', day: 'numeric'});
            
            return `
                <div class="fixture">
                    <div class="time-box">
                        <div style="font-size:10px; color:#888">${day}</div>
                        ${time}
                    </div>
                    <div class="teams">
                        <div class="team-line">
                            <img src="${f.teams.home.logo}" class="logo"> ${f.teams.home.name}
                        </div>
                        <div class="team-line">
                            <img src="${f.teams.away.logo}" class="logo"> ${f.teams.away.name}
                        </div>
                    </div>
                </div>
            `;
        }).join('');
    }

    // Initial Load
    loadData(39, 'Premier League');
</script>
</body>
</html>
