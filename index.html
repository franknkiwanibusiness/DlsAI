<!DOCTYPE html>
<html>
<head>
    <title>Hoyoo AI Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
</head>
<body class="bg-black text-white p-8">
    <div class="max-w-3xl mx-auto">
        <header class="mb-10 text-center">
            <h1 class="text-4xl font-black text-blue-500 italic">HOYOO AI</h1>
            <p class="text-gray-500">Multi-League Prediction Engine</p>
        </header>

        <div class="bg-gray-900 p-6 rounded-2xl mb-8 flex gap-4 items-end">
            <div class="flex-1">
                <label class="text-xs uppercase text-gray-500 font-bold">Select League</label>
                <select id="league" class="w-full bg-gray-800 p-3 rounded-lg mt-1 border border-gray-700">
                    <option value="soccer_epl">English Premier League</option>
                    <option value="soccer_spain_la_liga">La Liga</option>
                    <option value="soccer_italy_serie_a">Serie A</option>
                    <option value="soccer_germany_bundesliga">Bundesliga</option>
                    <option value="soccer_uefa_champions_league">Champions League</option>
                </select>
            </div>
            <button id="run" class="bg-blue-600 px-6 py-3 rounded-lg font-bold hover:bg-blue-500 transition">Analyze</button>
        </div>

        <div id="results" class="space-y-6"></div>
    </div>

    <script>
        // Use YOUR Firebase Config here
        const firebaseConfig = { /* ... paste from Firebase Console ... */ };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // Listen for new predictions
        db.ref('hoyoo_predictions').limitToLast(15).on('value', (snap) => {
            const container = document.getElementById('results');
            container.innerHTML = '';
            const data = snap.val();
            if(!data) return;

            Object.values(data).reverse().forEach(p => {
                container.innerHTML += `
                    <div class="bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-xl">
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-blue-400 font-bold text-sm uppercase tracking-widest">${p.league}</span>
                            <span class="text-xs text-gray-600">${new Date(p.timestamp).toLocaleTimeString()}</span>
                        </div>
                        <h2 class="text-2xl font-bold mb-4">${p.match}</h2>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-black/50 p-4 rounded-xl border-t-2 border-purple-500">
                                <p class="text-[10px] text-purple-400 font-bold uppercase mb-2">Groq Prediction</p>
                                <p class="text-xs text-gray-300 leading-relaxed">${p.predictions.groq}</p>
                            </div>
                            <div class="bg-black/50 p-4 rounded-xl border-t-2 border-blue-500">
                                <p class="text-[10px] text-blue-400 font-bold uppercase mb-2">Gemini Analysis</p>
                                <p class="text-xs text-gray-300 leading-relaxed">${p.predictions.gemini}</p>
                            </div>
                        </div>
                    </div>
                `;
            });
        });

        document.getElementById('run').onclick = async () => {
            const league = document.getElementById('league').value;
            await fetch(`/api/hoyooai?sport=${league}`);
        };
    </script>
</body>
</html>
